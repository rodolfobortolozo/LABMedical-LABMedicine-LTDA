<div class="container fadein" fxLayoutAlign="center none">
    <div fxFlex="95%">
        <form [formGroup]="formConsult" (ngSubmit)="onSubmit()">
            <mat-card>
                <h4>Identificação do Paciente</h4>
                <mat-card-content>
                    <mat-form-field appearance="fill" fxFlex="100%">
                        <mat-label>Identificação do Paciente</mat-label>
                        <mat-select formControlName="idPatient">
                            <mat-option *ngFor="let patient of patients" [value]=patient.id>
                                {{patient.nome}}
                            </mat-option>
                        </mat-select>
                        <mat-error>Paciente é <strong>Obrigatório</strong> </mat-error>
                    </mat-form-field>

                </mat-card-content>
            </mat-card>

            <mat-card>

                <h4>Consulta</h4>
                <mat-card-content>
                    <div fxLayout="row">
                        <mat-form-field class="margin-r-20" appearance="fill" fxFlex="70%">
                            <mat-label>Motivo da Consulta</mat-label>
                            <input matInput placeholder="Nome Completo" formControlName="motivo">
                            <mat-error>Motivo é Campo <strong>Obrigatório</strong> com no minimo 8 Caracteres e no
                                máximo
                                64</mat-error>
                        </mat-form-field>

                        <mat-form-field class="margin-r-20" appearance="fill" fxFlex="30%">
                            <mat-label>Data da Consulta</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="dtaConsulta">
                            <mat-hint>DD/MM/YYYY</mat-hint>
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                            <mat-error>Data é <strong>Obrigatório</strong> </mat-error>
                        </mat-form-field>

                        <ngx-timepicker-field [format]="24" [defaultTime]="'08:00'" formControlName="horaConsulta">
                        </ngx-timepicker-field>

                    </div>
                    <div fxLayout="column">
                        <mat-form-field appearance="fill" fxFlex="100%">
                            <mat-label>Descrição do Problema</mat-label>
                            <textarea matInput placeholder="Descrição do Problema" formControlName="descricao"
                                rows="10"></textarea>
                            <mat-error>Descrição do Problem é Campo <strong>Obrigatório</strong> com no minimo 16
                                Caracteres e no
                                máximo
                                1024</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="fill" fxFlex="100%">
                            <mat-label>Medicação Receitada</mat-label>
                            <textarea matInput placeholder="Medicação Receitada" formControlName="medicacao"
                                rows="5"></textarea>
                        </mat-form-field>
                        <mat-form-field appearance="fill" fxFlex="100%">
                            <mat-label>Dosagem e Precauções</mat-label>
                            <textarea matInput placeholder="Dosagem e Precauções" formControlName="dosagem"
                                rows="5"></textarea>
                            <mat-error>Dosagem e Precauções é Campo <strong>Obrigatório</strong> com no minimo 16
                                Caracteres e no
                                máximo
                                256</mat-error>
                        </mat-form-field>
                    </div>
                    <div>
                        <button mat-raised-button color="primary" type="submit">{{
                            consultId?"Alterar":"Salvar"}}</button>

                        <button mat-raised-button color="warn" [disabled]="!consultId"
                            (click)="deleteConsult(consultId)">Deletar</button>
                    </div>
                </mat-card-content>
            </mat-card>
        </form>
    </div>
</div>